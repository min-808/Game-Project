<!DOCTYPE html>
<html lang="en">
<head>
    <script src="p5.js"></script>
    <script src="game.js"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>
    <link rel="stylesheet" href="style.css">
    <title>Game Project</title>
    <style>
    </style>
</head>
<body>
    <span id="staminaTitle">Stamina: </span><span id="staminaValue">placeholder</span>
    <script>

        let w = window.innerWidth;
        let h = window.innerHeight;

        var stamina = 60;

        // Declare the player object
        var player = new player();
        var hitbox = new hitbox();
        var enemy = new enemy();
        var weapon = new weapon();

        function setup() {
            frameRate(60);
            createCanvas(w,h);
            angleMode(DEGREES);
            knight = loadImage("knight.png");
            snake = loadImage("snake.png");
        }

        function draw() {
            
            clear();
            document.getElementById("staminaValue").innerText = stamina.toFixed(0);

            let seconds = (millis() / 1000).toFixed(0);

            //if (seconds % 2 == 0) {
                //stamina += 1;
            //}
            

            //while

            if (stamina >= 60) {
                stamina = 60;
            }

            enemy.show();
            enemy.update();

            player.show();
            player.update();

            hitbox.show();
            hitbox.update();

            if (keyIsDown(UP_ARROW)) {
                player.up();
                pos = "up";
            }
            if (keyIsDown(DOWN_ARROW)) {
                player.down();
                pos = "down";
            }
            if (keyIsDown(LEFT_ARROW)) {
                player.left();
                pos = "left";
            }
            if (keyIsDown(RIGHT_ARROW)) {
                player.right();
                pos = "right";
            }

            if (keyIsDown(67)) {
                weapon.show();
                weapon.update();
            }

            
        }

        //function keyTyped() {
            //if (key === "c") {
                //weapon.show();
            //}
        //}

    </script>
</body>
</html>